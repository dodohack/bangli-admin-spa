<!-- Register page template -->

<div class="center-block login-wrapper">
    <div class="card card-block login-box">
        <div class="login-box-row">
            <a routerLink="/login" class="small float-right">登录</a>
            <h4>注册</h4>
        </div>

        <!--
        TODO: Ref https://auth0.com/blog/2016/05/03/angular2-series-forms-and-custom-validation/
        TODO: for advanced form validation
        -->
        <!--
        <div *ngIf="error.name != ''" class="alert alert-danger">
            {{ error.name }}
        </div>
        <div *ngIf="error.email != ''" class="alert alert-danger">
            {{ error.email }}
        </div>
        <div *ngIf="error.password != ''" class="alert alert-danger">
            {{ error.password }}
        </div>
        -->

        <form class="form-horizontal" role="form" (ngSubmit)="register.emit(user)"
              #registerForm="ngForm">

            <mat-form-field>
                <input matInput type="text" [(ngModel)]="user.name"
                       name="name" placeholder="用户名" required>
            </mat-form-field>

            <mat-form-field>
                <input matInput type="email" [(ngModel)]="user.email"
                       name="email" placeholder="邮箱" required>
            </mat-form-field>

            <mat-form-field>
                <input matInput type="password" [(ngModel)]="user.password"
                       name="password" placeholder="密码" required>
            </mat-form-field>

            <mat-form-field>
                    <input matInput type="password" [(ngModel)]="user.password_confirmation"
                           name="password_confirmation" placeholder="确认密码" required>
            </mat-form-field>

            <div class="login-box-row">
                <button mat-raised-button color="primary" type="submit"
                        [disabled]="!registerForm.form.valid">注册</button>
            </div>

        </form>

    </div>
</div>
