<mat-form-field style="width: 100%">
    <textarea matInput name="title"
              placeholder="优惠内容"
              [ngModel]="offer.title"
              (ngModelChange)="modify('title', $event)">
    </textarea>
</mat-form-field>

<mat-form-field style="width: 100%">
    <input matInput name="display_url"
           placeholder="显示链接"
           [ngModel]="offer.display_url"
           (ngModelChange)="modify('display_url', $event)">
</mat-form-field>

<mat-form-field style="width: 100%">
    <input matInput name="tracking_url"
           placeholder="返利链接(自动生成）"
           [ngModel]="offer.tracking_url"
           (ngModelChange)="modify('tracking_url', $event)">
</mat-form-field>


<mat-form-field style="width: 25%">
    <input matInput [matDatepicker]="startPicker" name="starts"
           placeholder="开始日期"
           [ngModel]="offer.starts | date: 'yyyy-MM-dd'"
           (ngModelChange)="modify('starts', $event)">
    <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
    <mat-datepicker #startPicker></mat-datepicker>
</mat-form-field>

<mat-form-field style="width: 25%">
    <input matInput [matDatepicker]="endPicker" name="ends"
           placeholder="结束日期"
           [ngModel]="offer.ends | date: 'yyyy-MM-dd'"
           (ngModelChange)="modify('ends', $event)">
    <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
    <mat-datepicker #endPicker></mat-datepicker>
</mat-form-field>

<mat-form-field style="width: 25%">
    <input matInput name="vouchers"
           placeholder="优惠码"
           [ngModel]="offer.vouchers"
           (ngModelChange)="modify('vouchers', $event)">
</mat-form-field>

<mat-checkbox style="width: 25%" [ngModel]="offer.featured"
              (ngModelChange)="modify('featured', $event)">
    推荐优惠
</mat-checkbox>


<div style="display: flex; justify-content: space-between;">
    <button mat-raised-button color="warn"
            (click)="onDestroy()" *ngIf="!isNew">删除优惠</button>
    <button mat-raised-button color="primary"
            (click)="onSave()" *ngIf="isDirty">保存优惠</button>
</div>


